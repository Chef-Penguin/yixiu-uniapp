// 移动端适配相关样式

// 安全区域适配（刘海屏、全面屏等）
.safe-area-top {
  padding-top: constant(safe-area-inset-top);
  padding-top: env(safe-area-inset-top);
}

.safe-area-bottom {
  padding-bottom: constant(safe-area-inset-bottom);
  padding-bottom: env(safe-area-inset-bottom);
}

.safe-area-left {
  padding-left: constant(safe-area-inset-left);
  padding-left: env(safe-area-inset-left);
}

.safe-area-right {
  padding-right: constant(safe-area-inset-right);
  padding-right: env(safe-area-inset-right);
}

// 固定字体大小（不随屏幕缩放）- 使用较小尺寸
.text-xs { font-size: 10px !important; }
.text-sm { font-size: 12px !important; }
.text-base { font-size: 13px !important; }
.text-lg { font-size: 14px !important; }
.text-xl { font-size: 16px !important; }
.text-2xl { font-size: 18px !important; }
.text-3xl { font-size: 20px !important; }

// 固定像素尺寸（不转换为rem）
.w-1px { width: 1px !important; }
.h-1px { height: 1px !important; }
.border-1px { border-width: 1px !important; }

// 响应式间距
.p-safe {
  padding-top: constant(safe-area-inset-top);
  padding-top: env(safe-area-inset-top);
  padding-bottom: constant(safe-area-inset-bottom);
  padding-bottom: env(safe-area-inset-bottom);
}

// 一像素边框解决方案
.hairline,
.hairline-top,
.hairline-bottom,
.hairline-left,
.hairline-right {
  position: relative;
}

.hairline::after,
.hairline-top::after,
.hairline-bottom::after,
.hairline-left::after,
.hairline-right::after {
  content: '';
  position: absolute;
  pointer-events: none;
  box-sizing: border-box;
  transform-origin: center;
  border-color: #ebedf0;
  border-style: solid;
  border-width: 0;
}

.hairline::after {
  top: -50%;
  left: -50%;
  right: -50%;
  bottom: -50%;
  border-width: 1px;
  transform: scale(0.5);
}

.hairline-top::after {
  top: 0;
  left: 0;
  right: 0;
  border-top-width: 1px;
  transform: scaleY(0.5);
}

.hairline-bottom::after {
  bottom: 0;
  left: 0;
  right: 0;
  border-bottom-width: 1px;
  transform: scaleY(0.5);
}

.hairline-left::after {
  top: 0;
  left: 0;
  bottom: 0;
  border-left-width: 1px;
  transform: scaleX(0.5);
}

.hairline-right::after {
  top: 0;
  right: 0;
  bottom: 0;
  border-right-width: 1px;
  transform: scaleX(0.5);
}

// 适配不同屏幕尺寸 - 已被自定义flexible.js替代，这里注释掉避免冲突
// 小屏手机（<= 320px）
// @media (max-width: 320px) {
//   html {
//     font-size: 32px !important;
//   }
// }

// // 标准手机（375px）
// @media (min-width: 321px) and (max-width: 375px) {
//   html {
//     font-size: 37.5px !important;
//   }
// }

// // 大屏手机（> 414px）
// @media (min-width: 414px) and (max-width: 767px) {
//   html {
//     font-size: 41.4px !important;
//   }
// }

// 平板或更大屏幕 - 保持限制
@media (min-width: 768px) {
  #app {
    max-width: 750px;
    margin: 0 auto;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
  }
}

// 横屏适配 - 保持限制
@media (orientation: landscape) and (max-height: 500px) {
  body {
    font-size: 14px; // 横屏时使用固定字体
  }
}

// 禁止用户缩放和选择
html, body {
  -webkit-user-select: none;
  user-select: none;
  -webkit-touch-callout: none;
  -webkit-tap-highlight-color: transparent;
}

// 输入框允许选择
input, textarea {
  -webkit-user-select: text;
  user-select: text;
}

// 图片优化
img {
  -webkit-touch-callout: none;
  pointer-events: none;
  user-select: none;
}

// 防止iOS滚动卡顿
body {
  -webkit-overflow-scrolling: touch;
}

// 解决iOS点击延迟
* {
  touch-action: manipulation;
}

// 适配不同DPR（设备像素比）
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .retina-border {
    border-width: 0.5px;
  }
}

@media (-webkit-min-device-pixel-ratio: 3), (min-resolution: 288dpi) {
  .retina-border {
    border-width: 0.33px;
  }
}